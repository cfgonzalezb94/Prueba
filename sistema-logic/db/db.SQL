CREATE SEQUENCE CARGO_ID_seq INCREMENT 1 START 1;

CREATE TABLE CARGO ( 
	ID integer DEFAULT NEXTVAL('CARGO_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	DESCRIPCION varchar(50)
);

CREATE SEQUENCE CATEGORIA_ID_seq INCREMENT 1 START 1;

CREATE TABLE CATEGORIA ( 
	ID integer DEFAULT NEXTVAL('CATEGORIA_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	DESCRIPCION varchar(50)
);

CREATE SEQUENCE COMENTARIOS_ID_seq INCREMENT 1 START 1;

CREATE TABLE COMENTARIOS ( 
	ID integer DEFAULT NEXTVAL('COMENTARIOS_ID_seq'::TEXT) NOT NULL,
	TITULO varchar(50),
	DESCRIPCION text,
	ID_MARCA integer
);

CREATE SEQUENCE MARCA_ID_seq INCREMENT 1 START 1;

CREATE TABLE MARCA ( 
	ID integer DEFAULT NEXTVAL('MARCA_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	DESCRIPCION varchar(50),
	RANKING double precision,
	VALOR_DECIMAL integer,
	RUTA_LOGO varchar(50),
	RUTA_PORTADA varchar(50),
	ID_CATEGORIA integer,
	ID_USUARIO integer,
	ESTADO varchar(1)
);

CREATE SEQUENCE SUB_MARCA_ID_seq INCREMENT 1 START 1;

CREATE TABLE SUB_MARCA ( 
	ID integer DEFAULT NEXTVAL('SUB_MARCA_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	DESCRIPCION varchar(50),
	RANKING double precision,
	VALOR_DECIMAL integer,
	RUTA_LOGO varchar(50),
	RUTA_PORTADA varchar(50),
	ID_CATEGORIA integer,
	ID_MARCA integer
);

CREATE SEQUENCE TIPOS_SUSCRIPCION_ID_seq INCREMENT 1 START 1;

CREATE TABLE TIPOS_SUSCRIPCION ( 
	ID integer DEFAULT NEXTVAL('TIPOS_SUSCRIPCION_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	DESCRIPCION varchar(50)
);

CREATE SEQUENCE USUARIO_ID_seq INCREMENT 1 START 1;

CREATE TABLE USUARIO ( 
	ID integer DEFAULT NEXTVAL('USUARIO_ID_seq'::TEXT) NOT NULL,
	NOMBRE varchar(50),
	ID_CARGO integer,
	NOMBRE_DELEGADO varchar(50),
	EMAIL_DELEGADO varchar(50),
	USUARIO varchar(20),
	CONTRASENA varchar(20),
	CODIGO_REGISTRO varchar(6),
	RUTA_LOGO varchar(100),
	ID_TIPO_SUSCRIPCION integer,
	FECHA_REGISTRO timestamp
);


ALTER TABLE CARGO ADD CONSTRAINT PK_CARGO 
	PRIMARY KEY (ID);


ALTER TABLE CATEGORIA ADD CONSTRAINT PK_CATEGORIA 
	PRIMARY KEY (ID);


ALTER TABLE COMENTARIOS ADD CONSTRAINT PK_COMENTARIOS 
	PRIMARY KEY (ID);


ALTER TABLE MARCA ADD CONSTRAINT PK_MARCA 
	PRIMARY KEY (ID);


ALTER TABLE SUB_MARCA ADD CONSTRAINT PK_SUB_MARCA 
	PRIMARY KEY (ID);


ALTER TABLE TIPOS_SUSCRIPCION ADD CONSTRAINT PK_TIPOS_SUSCRIPCION 
	PRIMARY KEY (ID);


ALTER TABLE USUARIO ADD CONSTRAINT PK_USUARIO 
	PRIMARY KEY (ID);


ALTER TABLE COMENTARIOS ADD CONSTRAINT FK_COMENTARIOS_MARCA 
	FOREIGN KEY (ID_MARCA) REFERENCES MARCA (ID);

ALTER TABLE MARCA ADD CONSTRAINT FK_MARCA_CATEGORIA 
	FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA (ID);

ALTER TABLE MARCA ADD CONSTRAINT FK_MARCA_USUARIO 
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO (ID);

ALTER TABLE SUB_MARCA ADD CONSTRAINT FK_SUB_MARCA_CATEGORIA 
	FOREIGN KEY (ID_CATEGORIA) REFERENCES CATEGORIA (ID);

ALTER TABLE SUB_MARCA ADD CONSTRAINT FK_SUB_MARCA_MARCA 
	FOREIGN KEY (ID_MARCA) REFERENCES MARCA (ID);

ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_CARGO 
	FOREIGN KEY (ID_CARGO) REFERENCES CARGO (ID);

ALTER TABLE USUARIO ADD CONSTRAINT FK_USUARIO_TIPOS_SUSCRIPCION 
	FOREIGN KEY (ID_TIPO_SUSCRIPCION) REFERENCES TIPOS_SUSCRIPCION (ID);


CREATE SEQUENCE my_seq_gen START 1;
CREATE SEQUENCE hibernate_sequence START 1;